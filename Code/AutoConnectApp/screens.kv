#:kivy 2.0.0
#: import FallOutTransition kivy.uix.screenmanager.FallOutTransition
#: import RiseInTransition kivy.uix.screenmanager.RiseInTransition
#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#: import NoTransition kivy.uix.screenmanager.NoTransition
<MenuScreen>:
    canvas.before:
        Color:
            rgba: (30/255, 30/255, 30/255, 255/255)
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: 'vertical'
        padding: root.wPadding
        spacing: root.wPadding
        GridLayout:
            spacing: [root.wSpacingx, root.wSpacingy]
            cols: 3
            RoundedButton:
                background_normal: './Original Pictures/EFI2.png'
                on_press: 
                    root.manager.transition = FadeTransition()
                    root.manager.current = 'Loading'
                on_release: 
                    root.open_app("TunerStudioMS/TunerStudio.sh")
            RoundedButton:
                background_normal: './Original Pictures/PE.png'
                on_press: 
                    root.manager.transition = FadeTransition()
                    root.manager.current = 'Loading'
                on_release: 
                    root.open_app("MegaLogViewerHD/MegaLogViewer.sh")
            RoundedButton:
                background_normal: './Original Pictures/MLGV2.png'
                on_press: 
                    root.manager.transition = FadeTransition()
                    root.manager.current = 'Loading'
                on_release: 
                    root.open_app("TunerStudioMS/TunerStudio.sh")
            RoundedButton:
                background_normal: './Original Pictures/AndroidAuto.png'
                on_press: 
                    root.manager.transition = FadeTransition()
                    root.manager.current = 'Loading'
                on_release: 
                    root.open_app("TunerStudioMS/TunerStudio.sh")
            RoundedButton:
                background_normal: './Original Pictures/Audio.png'
                on_press: 
                    root.manager.transition = FadeTransition()
                    root.manager.current = 'Loading'
                on_release: 
                    root.open_app("TunerStudioMS/TunerStudio.sh")
            RoundedButton:
                background_normal: './Original Pictures/Settings.png'
                on_press:
                    root.manager.transition = FallOutTransition()
                on_release: 
                    root.manager.current = 'Settings'

<LoadingScreen>:
    canvas.before:
        Color:
            rgba: (30/255, 30/255, 30/255, 255/255)
        Rectangle:
            pos: self.pos
            size: self.size
    Image:
        source: 'Original Pictures/Psplash.jpg'
        allow_stretch: True
        keep_ratio: False
    NormalButton:
        size_hint: (1, .1)
        text: 'Back to menu'
        #background_color: 0.1, 0.5, 0.6, .3
        on_press:
            root.manager.transition = RiseInTransition()
        on_release: 
            root.manager.current = 'MainMenu'

<SettingsScreen>:
    canvas.before:
        Color:
            rgba: (30/255, 30/255, 30/255, 255/255)
        Rectangle:
            pos: self.pos
            size: self.size
    # AnchorLayout:
    #     padding: 50
    #     anchor_x: 'center'
    #     anchor_y: 'top'
    #     Label:
    #         font_size: self.height
    #         text: 'Settings'
    #         size_hint: None, None
    BoxLayout:
        orientation: 'vertical'
        padding: 5
        Label:
            font_size: self.height
            text: 'Settings'
            size_hint: 1, .1
        GridLayout:
            spacing: [50, 0]
            cols: 3
            Label:
                text: 'LightMode'
                size_hint: (.333, None)
            Label:
                text: 'TBD'
                size_hint: (.333, None)
            Label:
                text: 'TBD'
                size_hint: (.333, None)
            Button:
                text: 'Light Mode'
                size_hint: (.3, None)
                id: LightModeSwitch
                on_press:
                    root.manager.transition = NoTransition()
                on_release: 
                    root.change_color()
            Switch:
                size_hint: (.3, .1)
                id: switch
            Switch:
                size_hint: (.3, .1)
                id: switch
        NormalButton:
            size_hint: (1, .1)
            text: 'Back to menu'
            on_press:
                root.manager.transition = RiseInTransition()
            on_release: 
                root.manager.current = 'MainMenu'
            
<RoundedButton@Button>
    canvas.before:
        Color:
            rgba: (37/255, 37/255, 38/255, 255/255)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [58]

<NormalButton@Button>
    background_color: 0.1, 0.5, 0.6, 1




######################## Light Mode ########################

<MenuScreenLight>:
    canvas.before:
        Color:
            rgba: (255,255,255, 0.9)
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        orientation: 'vertical'
        padding: root.wPadding
        GridLayout:
            spacing: [root.wSpacingx, root.wSpacingy]
            cols: 3
            RoundedButton:
                background_normal: './Original Pictures/EFI2.png'
                on_press: 
                    root.manager.transition = FadeTransition()
                    root.manager.current = 'Loading'
                on_release: 
                    root.open_app("TunerStudioMS/TunerStudio.sh")
            RoundedButton:
                background_normal: './Original Pictures/PE.png'
                on_press: root.open_tuner_studio()
            RoundedButton:
                background_normal: './Original Pictures/MLGV2.png'
                on_press: root.open_tuner_studio()
            RoundedButton:
                background_normal: './Original Pictures/AndroidAuto.png'
                on_press: root.open_tuner_studio()
            RoundedButton:
                background_normal: './Original Pictures/Audio.png'
                on_press: root.open_tuner_studio()
            RoundedButton:
                background_normal: './Original Pictures/Settings.png'
                on_press:
                    root.manager.transition = FallOutTransition()
                on_release: 
                    root.manager.current = 'Settings'